#-------------------------------------------------------------------------------
#
# customize flags for MPI, OpenMP and with no parallelization
#
#-------------------------------------------------------------------------------
#
# parallelization:
#
#   MPI = Y or N to enable or disable MPI parallelization
#   OMP = Y or N to enable or disable OpenMP parallelization
#
MPI      = N
OMP      = N

# compilation options:
#
#   DEBUG   = Y or N to enable or disable debugging
#   STATIC  = Y or N to enable or disable static linking
#   PROFILE = Y or N to enable or disable profiling
#
DEBUG    = N
STATIC   = N
PROFILE  = N

#-------------------------------------------------------------------------------
#
# compiler and linker setup
#
ifeq ($(MPI),Y)
FC       = mpif90
else
FC       = f90
endif
LD       = $(FC)

# compiler and linker flags
#
ifeq ($(DEBUG),Y)
FFLAGS   = -g -O2 -DDEBUG
else
FFLAGS   = -O2 -i4
endif

LDFLAGS  = $(FFLAGS)

# libraries
#
LIBS     =

#-------------------------------------------------------------------------------
#
ifeq ($(STATIC),Y)
LDFLAGS += -static
endif

ifeq ($(PREC),8)
FFLAGS  += -r${PREC}
endif

ifeq ($(MPI),Y)
FFLAGS  += -DMPI
endif

ifeq ($(OUTPUT),HDF5)
FFLAGS  += -I${HDF5DIR}/lib
LIBS    += -L${HDF5DIR}/lib -lhdf5_fortran -lhdf5 -lz
else
FFLAGS  += -I${HDF4DIR}/include
LIBS    += -L${HDF4DIR}/lib -lmfhdf -ldf -ljpeg -lz
endif
#
#-------------------------------------------------------------------------------
